<form method="post" enctype="multipart/form-data">
    {% csrf_token %}

    <h3>Employee Details</h3>
    <label>Name: </label>
    {{ employee_form.name }} <br><br>
    <label>ID Card: </label>
    {{ employee_form.identity_card_id }} <br><br>
    <label>Phone Number: </label>
    {{ employee_form.phone }} <br><br>
    <label>Team: </label>
    {{ employee_form.team }} <br><br>
    <label>Role: </label>
    {{ employee_form.role }} <br><br>
    <label>Image: </label>
    {{ employee_form.photo }} <br><br>
    <label>Blood Group: </label>
    {{ employee_form.blood_group }} <br><br>
    <label>Date of Joining: </label>
    {{ employee_form.date_of_joining }} <br><br>
    <label>Status: </label>
    {{ employee_form.status }} <br><br>

    <!-- âœ… USE FORM FIELD -->
    <div>
        {{ employee_form.create_login }}
        <label for="{{ employee_form.create_login.id_for_label }}">
            Create system login for this employee
        </label>
    </div>

    <div id="login-fields" style="display:none;">
        <h3>Login Details</h3>
        {{ user_form.as_p }}
    </div>

    <button type="submit">Save</button>
</form>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const checkbox = document.getElementById(
        "{{ employee_form.create_login.id_for_label }}"
    );
    const loginFields = document.getElementById("login-fields");

    checkbox.addEventListener("change", function () {
        loginFields.style.display = this.checked ? "block" : "none";
    });
});
</script>
